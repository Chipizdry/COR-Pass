<!DOCTYPE html>
<html lang="ru" class="layout-page">
<head>
  <link rel="icon" type="image/png" href="/static/favicon.png">
  <meta charset="UTF-8" />
  <title>–ö–æ—Ä¬†Lab¬†‚Äî¬†–ü–∞—Ü–∏–µ–Ω—Ç—ã</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="styles_lab.css">
  <link rel="stylesheet" type="text/css" href="styles.css">
  <link rel="stylesheet" type="text/css" href="modal.css">

  
</head>
<body class="layout-page">

  <div class="layout">
    <aside class="sidebar">

      <!-- –õ–æ–≥–æ—Ç–∏–ø —Å–µ—Ä–≤–∏—Å–∞ -->
      <div class="logo" title="COR LAB" onclick="goBack('/static/mainscreen.html')">
        <svg width="60" height="55" viewBox="0 0 60 55" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M52.9511 10.1248H48.3747L54.9015 19.688H60L55.8843 13.6817C58.2493 12.5273 59.8925 
          10.1248 59.8925 7.30109C59.8925 3.38533 56.7597 0.24961 52.9511 0.24961H43.4297V19.7504H47.5915V4.43058H52.9511C54.4868 
          4.43058 55.7307 5.67863 55.7307 7.25429C55.7307 8.82996 54.4868 10.1248 52.9511 10.1248Z" fill="#ED1064"/>
          <path d="M9.84387 15.7722C6.71103 15.7722 4.19248 13.1669 4.19248 10.0312C4.19248 6.84868 6.7571 4.29017 
          9.84387 4.29017C11.3796 4.29017 12.8231 4.9142 13.8521 5.95944L17.8603 4.18097C16.0635 1.62247 13.1303 0 
          9.82851 0C4.42283 0 0 4.49298 0 9.9844C0 15.5226 4.42283 19.9688 9.82851 19.9688C13.1149 19.9688 16.0481 
          18.2995 17.8603 15.7878L13.8521 14.103C12.8231 15.1482 11.4256 15.7722 9.84387 15.7722Z" fill="#ED1064"/>
          <path d="M35.1984 6.63027L33.7548 10.1248H31.5434L28.9173 16.3495L25.1088 7.30109L23.7266 10.1248H19.9181C19.9642 
          15.5538 24.387 20 29.7466 20C35.1523 20 39.5137 15.6162 39.5751 10.1248H36.6419L35.1984 6.63027Z" fill="#ED1064"/>
          <path d="M25.2163 3.49454L28.8713 12.3245L30.4684 8.56474H32.7259L35.1369 3.29173L37.548 8.56474H39.4062C38.7919 
          3.69735 34.6762 0 29.7312 0C24.7863 0 20.6706 3.71295 20.0102 8.56474H22.7899L25.2163 3.49454Z" fill="#ED1064"/>
          <path d="M50.8316 54.286H8.94307C4.00896 54.286 0 50.277 0 45.3429V34.5495C0 29.6154 4.00896 25.6064 8.94307 
          25.6064H50.8316C55.7657 25.6064 59.7747 29.6154 59.7747 34.5495V45.3943C59.7747 50.277 55.7657 54.286 50.8316 54.286Z" fill="#D9D9DF"/>
          <path d="M13.6712 44.8279V33.572H11.2556V47.0894H19.1707V44.8279H13.6712Z" fill="#323238"/>
          <path d="M48.0559 41.2815C47.7475 40.7675 47.3364 40.3564 46.8224 40.048C47.2336 39.7396 47.542 39.3284 47.7989 38.8659C48.1073 
          38.3005 48.2101 37.7351 48.2101 37.1184C48.2101 36.0904 47.8503 35.2681 47.0794 34.5999C46.3084 33.9317 45.3833 33.572 44.2526 
          33.572H38.8045V47.0894H44.4067C45.5889 47.0894 46.5654 46.7296 47.3878 45.9586C48.2101 45.2391 48.6213 44.3139 48.6213 
          43.2346C48.5699 42.515 48.4157 41.8469 48.0559 41.2815ZM41.1687 39.02V35.8334H44.0984C44.6123 35.8334 44.9721 35.9876 
          45.3319 36.296C45.6403 36.6044 45.7944 36.9642 45.7944 37.4267C45.7944 37.8893 45.6403 38.2491 45.3319 38.5575C45.0235 
          38.8659 44.6123 39.02 44.0984 39.02L41.1687 39.02ZM46.1028 43.029C46.1028 43.543 45.9486 43.9542 45.5889 44.2625C45.2291 
          44.5709 44.7665 44.7765 44.2525 44.7765H41.1687V41.2815H44.2525C44.8179 41.2815 45.2291 41.4357 45.5889 41.7955C45.9486 
          42.1039 46.1028 42.515 46.1028 43.029Z" fill="#323238"/>
          <path d="M33.0997 47.0898H35.8238L34.1277 44.1088H30.5813L29.9131 42.7725H33.4081L33.0483 42.1043H28.1142L26.5723 
          45.2909H32.0204L33.0997 47.0898ZM28.0628 37.1702C27.7545 37.1702 27.4461 37.4786 27.4461 37.7869C27.4461 38.1467 
          27.7545 38.4037 28.0628 38.4037C28.2684 38.4037 28.474 38.3009 28.5768 38.1467L28.0628 37.1702ZM29.1936 39.0719L28.7824 
          38.3523C28.6282 38.5579 28.3712 38.6607 28.1142 38.6607C27.6517 38.6607 27.2405 38.2495 27.2405 37.7869C27.2405 37.3758 
          27.5489 37.016 27.96 36.9132L27.6517 36.3478C27.6517 36.3478 25.5958 37.7869 25.8528 40.4596C25.8528 40.4596 25.8528 41.8987 
          26.9835 43.1322L27.6517 41.8473C26.6751 40.6652 27.6003 39.0205 29.1936 39.0719ZM31.3008 39.483L31.6606 39.2261L31.5064 
          38.9177L29.8103 39.9456L30.0159 40.2026L30.3243 40.0484L30.7869 40.8194L31.7634 40.3054L31.3008 39.483ZM28.731 34.3947L27.3433 
          35.2171L29.8617 39.6372L31.3522 38.8149L28.731 34.3947ZM28.1142 34.035L27.3947 32.8014L26.5723 33.264L27.2919 34.4975L26.8807 
          34.7545L27.0863 35.0629L28.7824 34.0864L28.5768 33.778L28.1142 34.035Z" fill="#ED1064"/>
          <path d="M25.0311 47.0902H22.307L25.3908 40.9226C25.5964 42.2589 26.1104 42.9785 26.7272 43.698L25.0311 47.0902Z" fill="#323238"/>
          </svg>
          
      </div>

      <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ -->
      <nav class="nav">

        <!-- –ö–Ω–æ–ø–∫–∞: –ü–∞—Ü–∏–µ–Ω—Ç—ã -->
        <div class="nav-item">
          <button class="nav-btn" title="–ü–∞—Ü–∏–µ–Ω—Ç—ã">
            <svg viewBox="0 0 24 24">
              <circle cx="12" cy="7" r="4"/>
              <path d="M5 21v-2a7 7 0 0114 0v2"/>
            </svg>
          </button>
          <span class="nav-label">–ü–∞—Ü–∏–µ–Ω—Ç—ã</span>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞: –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ -->
        <div class="nav-item">
          <button class="nav-btn" title="–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏">
            <svg viewBox="0 0 24 24">
              <circle cx="12" cy="7" r="4"/>
              <path d="M17 21v-2a5 5 0 00-10 0v2"/>
              <path d="M22 21v-2a4 4 0 00-5-3.87"/>
              <path d="M2 21v-2a4 4 0 015-3.87"/>
            </svg>
          </button>
          <span class="nav-label">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</span>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞: –°–æ–æ–±—â–µ–Ω–∏—è -->
        <div class="nav-item">
          <button class="nav-btn" title="–°–æ–æ–±—â–µ–Ω–∏—è">
            <svg viewBox="0 0 24 24">
              <path d="M21 15a2 2 0 002-2V7a2 2 0 00-2-2H3a2 2 0 00-2 2v6a2 2 0 002 2h3l4 4 4-4h7z"/>
            </svg>
          </button>
          <span class="nav-label">–°–æ–æ–±—â–µ–Ω–∏—è</span>
        </div>
      </nav>


      <!--–î–æ–±–∞–≤–∏—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ -->
      <div class="nav-item">
        <button class="nav-btn" id="AddDevice" title="–î–æ–±–∞–≤–∏—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ">
          <svg viewBox="0 0 24 24">
            <path d="M21 15a2 2 0 002-2V7a2 2 0 00-2-2H3a2 2 0 00-2 2v6a2 2 0 002 2h3l4 4 4-4h7z"/>
          </svg>
        </button>
        <span class="nav-label">–î–æ–±–∞–≤–∏—Ç—å...</span>
      </div>

      <div class="nav-item">
        <button class="nav-btn" id="sendSettings" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_164_5548)">
            <path d="M14.41 2.29298C15.3784 2.53364 16.3053 2.9179 17.16 3.43298C17.3313 3.53633 17.4676 
               3.68868 17.5514 3.87034C17.6352 4.05199 17.6626 4.2546 17.63 4.45198C17.517 5.14098 17.688 
               5.66798 18.01 5.98998C18.332 6.31198 18.86 6.48298 19.548 6.36998C19.7454 6.33741 19.948 
               6.36478 20.1296 6.44857C20.3113 6.53236 20.4636 6.6687 20.567 6.83998C21.0821 7.69463 
               21.4663 8.62156 21.707 9.58998C21.7553 9.78431 21.7441 9.98867 21.6749 10.1766C21.6058 
               10.3645 21.4818 10.5273 21.319 10.644C20.752 11.051 20.499 11.544 20.499 12C20.499 12.456 
               20.752 12.95 21.319 13.357C21.4816 13.4735 21.6055 13.6362 21.6746 13.8239C21.7438 14.0116 
               21.7551 14.2158 21.707 14.41C21.4663 15.3784 21.0821 16.3053 20.567 17.16C20.4636 17.3313 
               20.3113 17.4676 20.1296 17.5514C19.948 17.6352 19.7454 17.6625 19.548 17.63C18.859 17.517 
               18.332 17.689 18.01 18.01C17.688 18.332 17.517 18.86 17.63 19.548C17.6628 19.7455 17.6355 
               19.9483 17.5517 20.1302C17.4679 20.312 17.3315 20.4646 17.16 20.568C16.3053 21.0831 15.3784 
               21.4673 14.41 21.708C14.2157 21.7563 14.0113 21.7451 13.8234 21.6759C13.6355 21.6067 13.4726 
               21.4827 13.356 21.32C12.949 20.752 12.456 20.5 12 20.5C11.544 20.5 11.05 20.752 10.643 
               21.32C10.5264 21.4826 10.3638 21.6064 10.1761 21.6756C9.98834 21.7448 9.78419 21.7561 
               9.59 21.708C8.62159 21.4673 7.69465 21.0831 6.84 20.568C6.66854 20.4646 6.53208 20.312 
               6.44829 20.1302C6.36449 19.9483 6.33722 19.7455 6.37 19.548C6.483 18.86 6.311 18.333 5.99 
               18.011C5.667 17.689 5.14 17.517 4.452 17.631C4.25447 17.6638 4.05164 17.6365 3.86979 
               17.5527C3.68793 17.4689 3.53542 17.3324 3.432 17.161C2.91674 16.3057 2.53248 15.3781 2.292 
               14.409C2.24392 14.2148 2.2552 14.0106 2.32437 13.8229C2.39354 13.6352 2.51742 13.4725 2.68 
               13.356C3.248 12.95 3.5 12.456 3.5 12C3.5 11.545 3.248 11.05 2.68 10.644C2.51742 10.5274 
               2.39354 10.3647 2.32437 10.177C2.2552 9.98932 2.24392 9.78517 2.292 9.59098C2.53257 8.62222 
               2.91683 7.69494 3.432 6.83998C3.53542 6.66852 3.68793 6.53206 3.86979 6.44826C4.05164 6.36447 
               4.25447 6.33719 4.452 6.36998C5.14 6.48298 5.667 6.31198 5.989 5.98998C6.311 5.66798 6.483 
               5.13998 6.369 4.45198C6.33643 4.2546 6.36381 4.05199 6.44759 3.87034C6.53138 3.68868 6.66772 
               3.53633 6.839 3.43298C7.69396 2.91781 8.62124 2.53355 9.59 2.29298C9.78419 2.2449 9.98834 
               2.25618 10.1761 2.32534C10.3638 2.39451 10.5264 2.51839 10.643 2.68098C11.05 3.24798 11.544 
               3.50098 12 3.50098C12.456 3.50098 12.95 3.24798 13.356 2.68098C13.4726 2.51839 13.6352 
               2.39451 13.8229 2.32534C14.0107 2.25618 14.2158 2.2449 14.41 2.29298ZM12 6.99998C10.6739 
               6.99998 9.40215 7.52676 8.46447 8.46444C7.52678 9.40212 7 10.6739 7 12C7 13.3261 7.52678 
               14.5978 8.46447 15.5355C9.40215 16.4732 10.6739 17 12 17C13.3261 17 14.5979 16.4732 15.5355 
               15.5355C16.4732 14.5978 17 13.3261 17 12C17 10.6739 16.4732 9.40212 15.5355 8.46444C14.5979 
               7.52676 13.3261 6.99998 12 6.99998ZM12 8.99998C12.7956 8.99998 13.5587 9.31605 14.1213 
               9.87865C14.6839 10.4413 15 11.2043 15 12C15 12.7956 14.6839 13.5587 14.1213 14.1213C13.5587 
               14.6839 12.7956 15 12 15C11.2043 15 10.4413 14.6839 9.87868 14.1213C9.31607 13.5587 9 
               12.7956 9 12C9 11.2043 9.31607 10.4413 9.87868 9.87865C10.4413 9.31605 11.2043 8.99998 12 8.99998Z" fill="#291161"/>
            </g>
            <defs>
            <clipPath id="clip0_164_5548">
            <rect width="24" height="24" fill="white"/>
            </clipPath>
            </defs>
            </svg>
            
        </button>
        <span class="nav-label">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
      </div>

       <!-- –ö–Ω–æ–ø–∫–∞: –°–æ–æ–±—â–µ–Ω–∏—è -->
       <div class="nav-item">
        <button class="nav-btn" id="sendLabelButton" title="–°–æ–æ–±—â–µ–Ω–∏—è">
          <svg viewBox="0 0 24 24">
            <path d="M21 15a2 2 0 002-2V7a2 2 0 00-2-2H3a2 2 0 00-2 2v6a2 2 0 002 2h3l4 4 4-4h7z"/>
          </svg>
        </button>
        <span class="nav-label">–ü–µ—á–∞—Ç—å</span>
      </div>
      <div id="printerStatus" style="margin-left: 10px; font-size: 14px;">–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø—Ä–∏–Ω—Ç–µ—Ä–∞...</div>
    </nav>

      <!-- –ú–∏–Ω–∏‚Äë–∞–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤–Ω–∏–∑—É —Å–∞–π–¥–±–∞—Ä–∞ -->
      <div class="profile-wrapper">
        <div class="profile"></div>
        <span class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</span>
      </div>
    </aside>
 

    <!-- –û–°–ù–û–í–ù–û–ï –°–û–î–ï–†–ñ–ò–ú–û–ï -->
    <main class="main">

      <!-- –ë–ª–æ–∫ —Å¬†–ø–æ–∏—Å–∫–æ–º –∏¬†–∫–Ω–æ–ø–∫–æ–π ¬´–î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞¬ª -->
      <div class="actions">

        <!-- –ü–æ–∏—Å–∫–æ–≤–æ–µ –ø–æ–ª–µ -->
        <div class="search">
          <input type="text" placeholder="Search" id="searchInput"/>
          <!-- –ò–∫–æ–Ω–∫–∞‚Äë–ª—É–ø–∞ –≤–Ω—É—Ç—Ä–∏ –ø–æ–ª—è -->
          <svg viewBox="0 0 24 24">
            <circle cx="11" cy="11" r="8"/>
            <path d="M21 21l-4.35-4.35"/>
          </svg>
        </div>

        <!-- –§–∏–æ–ª–µ—Ç–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
        <button class="add-button" id="addPatientBtn">
          <span class="icon-circle"><span>+</span></span>
          <span class="button-text">–î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞</span>
        </button>
      </div>

      <!-- –ü–∞–Ω–µ–ª—å —Ñ–∏–ª—å—Ç—Ä–∞ –∏¬†—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ -->
      <div class="filters-bar">

        <!-- –ö–Ω–æ–ø–∫–∞‚Äë–∑–∞–≥–ª—É—à–∫–∞: —Ñ–∏–ª—å—Ç—Ä -->
        <div class="filter" id="filterBtn">
          <svg viewBox="0 0 24 24"><path d="M4 3h16l-6 8v8l-4 2v-10L4 3z"/></svg>–§–∏–ª—å—Ç—Ä
        </div>

        <!-- –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ -->
        <div style="position:relative">
          <div class="sort" id="sortBtn">
            <svg viewBox="0 0 24 24">
              <path d="M3 16h13"/><path d="M3 8h18"/><path d="M6 12h15"/>
            </svg>
            <span>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:</span>&nbsp;
            <span id="sortLabel">–î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è¬†(–Ω–æ–≤—ã–µ‚Üí—Å—Ç–∞—Ä—ã–µ)</span>
          </div>

          <!-- –°–∞–º dropdown¬†—Å¬†–≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ -->
          <div class="dropdown" id="sortDropdown">
            <!-- –∫–∞–∂–¥–∞—è –∫–Ω–æ–ø–∫–∞ –∑–∞–¥–∞—ë—Ç field¬†–∏¬†dir -->
            <button data-field="date" data-dir="desc">–î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è¬†(–Ω–æ–≤—ã–µ‚Üí—Å—Ç–∞—Ä—ã–µ)</button>
            <button data-field="date" data-dir="asc">–î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è¬†(—Å—Ç–∞—Ä—ã–µ‚Üí–Ω–æ–≤—ã–µ)</button>
            <button data-field="name" data-dir="asc">–§–∞–º–∏–ª–∏—è¬†–ê‚Üí–Ø</button>
            <button data-field="name" data-dir="desc">–§–∞–º–∏–ª–∏—è¬†–Ø‚Üí–ê</button>
            <button data-field="id" data-dir="asc">COR¬†ID¬†‚Üë</button>
            <button data-field="id" data-dir="desc">COR¬†ID¬†‚Üì</button>
            <button data-field="age" data-dir="asc">–í–æ–∑—Ä–∞—Å—Ç¬†‚Üë</button>
            <button data-field="age" data-dir="desc">–í–æ–∑—Ä–∞—Å—Ç¬†‚Üì</button>
            <button data-field="gender" data-dir="asc">–ü–æ–ª¬†A‚Üí–Ø</button>
            <button data-field="gender" data-dir="desc">–ü–æ–ª¬†–Ø‚ÜíA</button>
            <button data-field="status" data-dir="asc">–°—Ç–∞—Ç—É—Å¬†A‚Üí–Ø</button>
            <button data-field="status" data-dir="desc">–°—Ç–∞—Ç—É—Å¬†–Ø‚ÜíA</button>
          </div>
        </div>
      </div>
  
    
      <!-- –ö–∞—Ä—Ç–æ—á–∫–∞‚Äë–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å¬†—Ç–∞–±–ª–∏—Ü–µ–π –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ -->
      <section class="patients_card">

        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th style="width:40px">
                  <input type="checkbox" id="selectAll">
                </th>
                <th data-field="name">–§–æ—Ç–æ, —Ñ–∞–º–∏–ª–∏—è, –∏–º—è, –æ—Ç—á–µ—Å—Ç–≤–æ</th>
                <th data-field="id">COR ID</th>
                <th data-field="age">–í–æ–∑—Ä–∞—Å—Ç</th>
                <th data-field="gender">–ü–æ–ª</th>
                <th data-field="date">–î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è</th>
                <th data-field="status">–°—Ç–∞—Ç—É—Å</th>
                <th style="width:32px"></th>
              </tr>
            </thead>
            <tbody id="tableBody"></tbody>
          </table>
        </div>

        <div class="footer" id="footerInfo"></div>
      </section>
    </main>
    <!-- –ö–û–ù–ï–¶ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ -->
  </div>
  
<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–∞ -->
<div id="addPatientModal" class="modal" style="display: none;">
  <div class="modal-header">    
    <div class="modal-buttons">
      <button class="modal-button close" data-action="close" id="cancelPatientBtn">‚úñ</button>
    </div>
    <h1>–ù–æ–≤—ã–π –ø–∞—Ü–∏–µ–Ω—Ç</h1>
  </div>

  <div class="tab-buttons">
    <button class="tab-button active" data-tab="byCorIdTab">–î–æ–±–∞–≤–∏—Ç—å –ø–æ COR-ID</button>
    <button class="tab-button" data-tab="registerPatientTab">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–∞</button>
  </div>

  <div class="tab-content active" id="byCorIdTab">
    <div class="form-group-width">
      <label for="corIdInput">–í–≤–µ–¥–∏—Ç–µ COR-ID:</label>
      <input type="text" id="corIdInput" name="corIdInput" required maxlength="15">
    </div>
  </div>

  <div class="tab-content" id="registerPatientTab">
    <div class="form-group-width">
      <label for="surname">–§–∞–º–∏–ª–∏—è</label>
      <input type="text" id="surname" name="surname" required>
    </div>

    <div class="form-group-width">
      <label for="firstName">–ò–º—è</label>
      <input type="text" id="firstName" name="firstName" required>
    </div>

    <div class="form-group-width">
      <label for="middleName">–û—Ç—á–µ—Å—Ç–≤–æ</label>
      <input type="text" id="middleName" name="middleName" required>
    </div>

    <div class="form-group-width">
      <label for="birthDate">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
      <input type="date" id="birthDate" name="birthDate" required>
    </div>

  <div class="form-group-width">
    <label>–ü–æ–ª:</label>
  </div>  
    <div class="additional-fields">   
      <label class="storage-option">
        <input type="radio" name="gender" value="M">
        <span class="custom-radio"></span>
        <span>–ú—É–∂—Å–∫–æ–π</span>
      </label>

      <label class="storage-option">
        <input type="radio" name="gender" value="F">
        <span class="custom-radio"></span>
        <span>–ñ–µ–Ω—Å–∫–∏–π</span>
      </label>
    </div>
   

    <div class="additional-fields">
      <div class="input-wrapper">
        <label for="patientEmail">–ò–º–µ–π–ª</label>
        <input type="text" id="patientEmail" name="patientEmail" required>
      </div>
      <div class="input-wrapper">
        <label for="patientPhone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
        <input type="text" id="patientPhone" name="patientPhone" required>
      </div>
    </div>

    <div class="form-group-width">
      <label for="address">–ê–¥—Ä–µ—Å</label>
      <input type="text" id="address" name="address" required>
    </div>
  </div>

  <button class="button" id="Add_Patient" data-translate="Add_Patient">–î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞</button>
</div>


<!-- –ú–æ–¥–∞–ª–∫–∞: –î–æ–±–∞–≤–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ -->
<div id="addDeviceModal" class="modal" style="display:none;">
  <div class="modal-content">
    <div class="modal-header">    
      <div class="modal-buttons">
        <button class="modal-button close" data-action="close" id="closeAddDeviceModal">‚úñ</button>
      </div>
      <h1>–ù–æ–≤–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</h1>
    </div>

    <label>–¢–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:</label>
    <select id="deviceType" class="select">
      <option value="–ü—Ä–∏–Ω—Ç–µ—Ä">–ü—Ä–∏–Ω—Ç–µ—Ä</option>
      <option value="–°–∫–∞–Ω–µ—Ä">–°–∫–∞–Ω–µ—Ä</option>
      <option value="–ö–∞–º–µ—Ä–∞">–ö–∞–º–µ—Ä–∞</option>
      <option value="–î—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option>
    </select>

    <label>ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (0‚Äì65535):</label>
    <input type="number" id="deviceId" min="0" max="65535" />

    <label>IP-–∞–¥—Ä–µ—Å:</label>
    <input type="text" id="deviceIp" placeholder="192.168.001.100" />

    <label>–ú–∞—Å–∫–∞ –ø–æ–¥—Å–µ—Ç–∏:</label>
    <input type="text" id="deviceMask" placeholder="255.255.255.000" />

    <label>–®–ª—é–∑:</label>
    <input type="text" id="deviceGateway" placeholder="192.168.001.001" />

    <label>–°—Ç–∞—Ç—É—Å / –õ–æ–∫–∞—Ü–∏—è:</label>
    <input type="text" id="deviceLocation" maxlength="20" placeholder="–°–µ—Ä–≤–µ—Ä–Ω–∞—è, —ç—Ç–∞–∂ 2" />

      <button onclick="testDevice()" class="button" id="testDevice">üß™ –¢–µ—Å—Ç</button>
      <button onclick="addDevice()"  class="button" id="addDevice" >üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    
  </div>
</div>

  <!-- ‚îÄ‚îÄ‚îÄ –õ–û–ì–ò–ö–ê (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, –ø–æ–∏—Å–∫, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏) ‚îÄ‚îÄ‚îÄ -->
  <script src="/static/translation.js"></script>  
  <script src="/static/general_fun.js"></script>   
  <script src="/static/printers.js"></script>   
  <script>
    /* –ú–∞—Å—Å–∏–≤‚Äë–∑–∞–≥–ª—É—à–∫–∞ —Å¬†—Ç—Ä—ë–º—è –ø–∞—Ü–∏–µ–Ω—Ç–∞–º–∏ */
    const sampleRows=[
      {name:"–ò–≤–∞–Ω–æ–≤ –í–∞–ª–µ—Ä–∏–π –í–∏—Ç–∞–ª—å–µ–≤–∏—á",id:"159RLHD9P-1978M",age:65,gender:"–ú—É–∂—Å–∫–æ–π",date:"19.01.2024",status:"–ù–æ–≤—ã–π",avatar:"https://randomuser.me/api/portraits/men/65.jpg"},
      {name:"–ò–≤–∞–Ω–æ–≤–∞ –ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ –í–∞—Å–∏–ª—å–µ–≤–Ω–∞",id:"151RLHD9P-1990F",age:34,gender:"–ñ–µ–Ω—Å–∫–∏–π",date:"15.01.1990",status:"–ù–æ–≤—ã–π",avatar:"https://randomuser.me/api/portraits/women/44.jpg"},
      {name:"–°–∏–¥–æ—Ä–æ–≤ –ü—ë—Ç—Ä –ö–∏—Ä–∏–ª–ª–æ–≤–∏—á",id:"162ABCD9P-1995M",age:29,gender:"–ú—É–∂—Å–∫–æ–π",date:"05.03.2024",status:"–ù–æ–≤—ã–π",avatar:"https://randomuser.me/api/portraits/men/26.jpg"}
    ];

    /* –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã */
    let filteredRows=[...sampleRows];
    let currentSort={field:"date",dir:"desc"};

    /* DOM‚Äë—Å—Å—ã–ª–∫–∏ */
    const tbody=document.getElementById("tableBody");
    const footerInfo=document.getElementById("footerInfo");

    /* –£—Ç–∏–ª–∏—Ç–∞: –ø—Ä–µ–≤—Ä–∞—â–∞–µ–º "–¥–¥.–º–º.–≥–≥–≥–≥" –≤¬†Date */
    function parseDate(str){
      const[d,m,y]=str.split(".").map(Number);
      return new Date(y,m-1,d);
    }

    /* –ö–æ–º–ø–∞—Ä–∞—Ç–æ—Ä –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ¬†–ø–æ–ª—é */
    function compare(a,b,field){
      if(field==="date") return parseDate(a.date)-parseDate(b.date);
      if(field==="age")  return a.age-b.age;
      return a[field].toString().localeCompare(b[field].toString(),"ru",{sensitivity:"base"});
    }

    /* –†–µ–Ω–¥–µ—Ä–∏–º —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã */
    function render(rows){
      tbody.innerHTML="";
      rows.forEach(r=>{
        const tr=document.createElement("tr");
        tr.innerHTML=`
          <td><input type="checkbox" class="rowChk"></td>
          <td style="display:flex;align-items:center;background:var(--clr-surface-alt);">
            <img class="avatar" src="${r.avatar}" alt="">${r.name}
          </td>
          <td>${r.id}</td>
          <td>${r.age} –ª–µ—Ç</td>
          <td>${r.gender}</td>
          <td>${r.date}</td>
          <td><span class="status"><span class="status-dot"></span>${r.status}</span></td>
          <td class="ellipsis">‚ãÆ</td>`;
        tbody.appendChild(tr);
      });
      footerInfo.textContent=`–í—Å–µ–≥–æ: ${rows.length} –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤`;
    }

    /* –°–æ—Ä—Ç–∏—Ä—É–µ–º –∏¬†–ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º */
    function sortRows(field,dir){
      filteredRows.sort((a,b)=>dir==="asc" ? compare(a,b,field) : -compare(a,b,field));
      render(filteredRows);
    }

    /* –°—Ç–∞—Ä—Ç–æ–≤—ã–π —Ä–µ–Ω–¥–µ—Ä */
    sortRows(currentSort.field,currentSort.dir);

    /* === –ü–æ–∏—Å–∫ –ø–æ¬†—Ç–∞–±–ª–∏—Ü–µ === */
    document.getElementById("searchInput").addEventListener("input",e=>{
      const q=e.target.value.toLowerCase();
      filteredRows=sampleRows.filter(r=>
        Object.values(r).some(val=>val.toString().toLowerCase().includes(q))
      );
      sortRows(currentSort.field,currentSort.dir);
    });

    /* –ß–µ–∫‚Äë–±–æ–∫—Å ¬´–≤—ã–±—Ä–∞—Ç—å –≤—Å—ë¬ª */
    const selectAll=document.getElementById("selectAll");
    if(selectAll){
      selectAll.addEventListener("change",e=>{
        document.querySelectorAll(".rowChk").forEach(chk=>chk.checked=e.target.checked);
      });
    }

    /* Dropdown¬†—Å¬†–≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ */
    const sortBtn=document.getElementById("sortBtn");
    const sortDropdown=document.getElementById("sortDropdown");
    const sortLabel=document.getElementById("sortLabel");

    sortBtn.addEventListener("click",e=>{
      e.stopPropagation();
      sortDropdown.classList.toggle("visible");
    });
    window.addEventListener("click",()=>sortDropdown.classList.remove("visible"));

    sortDropdown.addEventListener("click",e=>{
      if(e.target.matches("button")){
        const {field,dir}=e.target.dataset;
        currentSort={field,dir};
        sortLabel.textContent=e.target.textContent;
        sortDropdown.classList.remove("visible");
        sortRows(field,dir);
      }
    });

    /* –ö–ª–∏–∫ –ø–æ¬†—à–∞–ø–∫–µ —Ç–∞–±–ª–∏—Ü—ã =¬†–±—ã—Å—Ç—Ä–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ */
    document.querySelectorAll("thead th[data-field]").forEach(th=>{
      th.addEventListener("click",()=>{
        const field=th.dataset.field;
        if(field==="select") return;
        const dir=currentSort.field===field && currentSort.dir==="asc" ? "desc":"asc";
        currentSort={field,dir};
        sortLabel.textContent=`–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: ${th.textContent.trim()} ${dir==="asc"?"‚Üë":"‚Üì"}`;
        sortRows(field,dir);
      });
    });

    /* –ó–∞–≥–ª—É—à–∫–∏ */
    document.getElementById("filterBtn").addEventListener("click",()=>alert("–ó–¥–µ—Å—å –±—É–¥–µ—Ç —Ñ–∏–ª—å—Ç—Ä –ø–æ –ø–æ–ª—è–º"));
    document.getElementById("addPatientBtn").addEventListener("click", function() {
      if( checkToken()){  
    const modal = document.getElementById('addPatientModal');
    if (modal) {
        modal.style.display = 'block';
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
        initModalControls('addPatientModal');
        // –î–µ–ª–∞–µ–º –æ–∫–Ω–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã–º
        makeModalDraggable('addPatientModal');
       
    }
}});

async function addPatientByCorId() {
  const corId = document.getElementById('corIdInput').value;
  const token = localStorage.getItem('access_token'); // –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é, —á—Ç–æ —Ç–æ–∫–µ–Ω –ª–µ–∂–∏—Ç –≤ localStorage

  if (!corId) {
    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ COR-ID');
    return;
  }

  try {
    const response = await fetch('/api/doctor/patients/add-existing', {
      method: 'POST',
      headers: {
        'accept': 'application/json',
        'Content-Type': 'application/json',
        'Authorization': 'Bearer ' + localStorage.getItem('access_token')
      },
      body: JSON.stringify({
        cor_id: corId,
        status: 'registered'
      })
    });

    if (response.ok) {
      const result = await response.json();
      console.log('–ü–∞—Ü–∏–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω:', result);
      alert('–ü–∞—Ü–∏–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!');
      // –ú–æ–∂–Ω–æ —Ç—É—Ç –∑–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª–∫—É –∏ —Å–±—Ä–æ—Å–∏—Ç—å –ø–æ–ª–µ
    } else {
      const error = await response.json();
      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø–∞—Ü–∏–µ–Ω—Ç–∞:', error);
      alert('–û—à–∏–±–∫–∞: ' + (error.detail || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'));
    }
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏:', error);
    alert('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ' + error.message);
  }
}

function registerNewPatient() {
    // –°–æ–±–∏—Ä–∞–µ–º –ø–æ–ª—è –ø–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º ID
    const surnameField = document.getElementById('surname');
    const firstNameField = document.getElementById('firstName');
    const middleNameField = document.getElementById('middleName');
    const birthDateField = document.getElementById('birthDate');
    const emailField = document.getElementById('patientEmail');
    const phoneNumberField = document.getElementById('patientPhone');
    const addressField = document.getElementById('address');

    const fields = [surnameField, firstNameField, middleNameField, birthDateField, emailField, phoneNumberField, addressField];
    
    let isValid = true;

    // –°–Ω–∞—á–∞–ª–∞ —É–±–∏—Ä–∞–µ–º —Å—Ç–∞—Ä—É—é –ø–æ–¥—Å–≤–µ—Ç–∫—É
    fields.forEach(field => {
        field.style.borderColor = '#f0f0f0';
    });

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π
    fields.forEach(field => {
        if (!field.value.trim()) {
            field.style.borderColor = 'red';
            isValid = false;
        }
    });

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—ã–±–æ—Ä –ø–æ–ª–∞
    const genderSelected = document.querySelector('input[name="gender"]:checked');
    const genderOptions = document.querySelectorAll('input[name="gender"]');
    genderOptions.forEach(option => {
        option.parentElement.style.border = 'none';
    });

    if (!genderSelected) {
        isValid = false;
        genderOptions.forEach(option => {
            option.parentElement.style.border = '1px solid red';
        });
    }

    if (!isValid) {
        alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª –ø–∞—Ü–∏–µ–Ω—Ç–∞.');
        return;
    }

    // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ
    const patientData = {
        email: emailField.value.trim(),
        surname: surnameField.value.trim(),
        first_name: firstNameField.value.trim(),
        middle_name: middleNameField.value.trim(),
        birth_date: birthDateField.value,
        sex: genderSelected.value,
        phone_number: phoneNumberField.value.trim(),
        address: addressField.value.trim(),
        photo: "",
        status: "registered"
    };

    fetch('/api/doctor/patients/register-new', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'Accept': 'application/json',
        'Authorization': 'Bearer ' + localStorage.getItem('access_token')
    },
    body: JSON.stringify(patientData)
    })

    .then(response => {
        if (response.ok) {
            return response.json();
        } else {
            return response.json().then(err => Promise.reject(err));
        }
    })
    .then(data => {
        console.log('–ü–∞—Ü–∏–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω:', data);
        alert('–ü–∞—Ü–∏–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!');
        document.getElementById('addPatientModal').style.display = 'none';
    })
    .catch(error => {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø–∞—Ü–∏–µ–Ω—Ç–∞:', error);
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø–∞—Ü–∏–µ–Ω—Ç–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–≤–µ–¥—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.');
    });
}

document.getElementById('Add_Patient').addEventListener('click', function() {
  if( checkToken()){  
  const activeTab = document.querySelector('.tab-content.active');

  if (activeTab && activeTab.id === 'byCorIdTab') {
    // –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–∞ –≤–∫–ª–∞–¥–∫–∞ "–ø–æ COR-ID"
    addPatientByCorId();
  } else {
    // –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–∞ –≤–∫–ª–∞–¥–∫–∞ "—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–∞" - —Ç–∞–º –±—É–¥–µ—Ç –¥—Ä—É–≥–∞—è —Ñ—É–Ω–∫—Ü–∏—è
    registerNewPatient(); // (–µ—Å–ª–∏ —Ö–æ—á–µ—à—å, –Ω–∞–ø–∏—à–µ–º –µ—ë —Ç–æ–∂–µ)
  }
}});


document.querySelectorAll('.tab-button').forEach(button => {
  button.addEventListener('click', () => {
    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã —Å–æ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –∏ —Ç–∞–±–æ–≤
    document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));

    // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –∫–Ω–æ–ø–∫—É –∏ —Ç–∞–±
    button.classList.add('active');
    document.getElementById(button.dataset.tab).classList.add('active');
  });
});
  </script>


<script>
  document.addEventListener('DOMContentLoaded', function() {


    
      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
      const modal = document.getElementById('addPatientModal');
      const addPatientBtn = document.getElementById('addPatientBtn');
      const cancelPatientBtn = document.getElementById('cancelPatientBtn');
      const savePatientBtn = document.getElementById('savePatientBtn');
      const tabs = document.querySelectorAll('.tab');
      const tabContents = document.querySelectorAll('.tab-content');
      const importFileInput = document.getElementById('importFile');
      const importFileName = document.getElementById('importFileName');
      
      
      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
      cancelPatientBtn.addEventListener('click', function() {
          modal.style.display = 'none';
      });
      
      // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏
      tabs.forEach(tab => {
          tab.addEventListener('click', function() {
              // –£–¥–∞–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫
              tabs.forEach(t => t.classList.remove('active'));
              tabContents.forEach(c => c.classList.remove('active'));
              
              // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Ç–µ–∫—É—â–µ–π –≤–∫–ª–∞–¥–∫–µ
              this.classList.add('active');
              const tabId = this.dataset.tab + 'Tab';
              document.getElementById(tabId).classList.add('active');
          });
      });
      
      // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ COR-ID
function formatCorIdInput() {
  const inputField = document.getElementById('corIdInput');
  let value = inputField.value;

  // –£–¥–∞–ª—è–µ–º –≤—Å–µ —Å–∏–º–≤–æ–ª—ã, –∫—Ä–æ–º–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö
  value = value.replace(/[^A-Z0-9M-]/g, '').toUpperCase();

  // –í—Å—Ç–∞–≤–ª—è–µ–º –¥–µ—Ñ–∏—Å –º–µ–∂–¥—É —á–∞—Å—Ç—è–º–∏
  if (value.length > 9) {
    value = value.slice(0, 9) + value.slice(9, 15);
  }

  // –û–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞
  inputField.value = value;
}


      
  });



  document.getElementById("AddDevice").addEventListener("click", function () {
  document.getElementById("addDeviceModal").style.display = "block";
  makeModalDraggable('addDeviceModal');
});

// –§—É–Ω–∫—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª–∫–∏
document.getElementById("closeAddDeviceModal").addEventListener("click", function () {
  document.getElementById("addDeviceModal").style.display = "none";
});


  document.addEventListener('DOMContentLoaded', () => {
    startPrinterMonitoring();
    
    document.getElementById('sendLabelButton')?.addEventListener('click', async () => {
        const ip = document.getElementById('printerIp')?.value.trim() || PRINTER_IP;
        const isAvailable = await checkPrinterAvailability(ip);
        
        if (!isAvailable) {
            alert('–ü—Ä–∏–Ω—Ç–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.');
            return;
        }
        
        await sendPrintRequest(ip);
    });
}); 
</script>
</body>
</html>
